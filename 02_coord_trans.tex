\chapter{Koordinatensysteme, geometrische Transformationen}
\section{kartesische Koordinaten}
\begin{center}
\begin{pspicture}[unit=0.5cm](0,0)(5,3)
	\psaxes[Dx=2,Dy=2](0,0)(0,0)(10,6)[$x$,0][$y$,0]
	\psdot(5,3)\rput[bl](5,3){$p = \vtwo{x}{y} = \vtwo{5}{3}$}
\end{pspicture}
\end{center}

\section{Geometrische Transformationen}
\begin{itemize}
 \item \emph{Tranlation}: $p \mapsto p + t \qquad t \in \mathbb{R}^2$,  Translationsvektor
	\begin{center}
	 \begin{pspicture}[unit=0.5cm](0,0)(4,4)
	  \psaxes[labels=none,ticks=none](0,0)(0,0)(8,8)
	  \pspolygon[linestyle=dotted](6,5)(7,7.5)(2,8)(3,3)
	  \rput[lb](5,3){\psline[linecolor=red](0,0)(1,2)\uput{3pt}[r]{0}(0.5,1){\color{red}$t$}}
	  \rput[lb](6,5.5){\psline[linecolor=red](0,0)(1,2)\uput{3pt}[r]{0}(0.5,1){\color{red}$t$}}
	  \rput[lb](1,6){\psline[linecolor=red](0,0)(1,2)\uput{3pt}[r]{0}(0.5,1){\color{red}$t$}}
	  \rput[lb](2,1){\psline[linecolor=red](0,0)(1,2)\uput{3pt}[r]{0}(0.5,1){\color{red}$t$}}
	  \pspolygon(5,3)(6,5.5)(1,6)(2,1)
	  \psdot(5,3)
	  \psdot(6,5.5)
	  \psdot(1,6)
	  \psdot(2,1)
	 \end{pspicture}
	\end{center}

 \item \emph{Rotation} (um den Ursprung $\vtwo{0}{0}$):
	\[p \mapsto M \cdot p \qquad M = \begin{pmatrix}
	                                  \cos{\alpha} & -\sin{\alpha} \\
	                                  \sin{\alpha} & \cos{\alpha}
	                                 \end{pmatrix}\text{, Rotationsmatrix}\]
	\begin{center}
	 \begin{pspicture}[unit=0.5cm](-2,-2)(2,2)
	  \psaxes[labels=none,ticks=none](0,0)(-4,-4)(4,4)
	  \SpecialCoor
	  \rput[tl](-4,4){\color{red}$\alpha = 20^\circ$}
	  \psarc[linecolor=red](0,0){3}{30}{50}\uput{3pt}[40]{0}(3;40){\color{red}$\alpha$}
	  \psarc[linecolor=red](0,0){4}{135}{155}\uput{3pt}[145]{0}(4;145){\color{red}$\alpha$}
	  \psarc[linecolor=red](0,0){2}{-70}{-50}\uput{3pt}[-60]{0}(2;-60){\color{red}$\alpha$}
	  \pspolygon(3;30)(4;135)(2;-70)
	  \pspolygon[linestyle=dotted](3;50)(4;155)(2;-50)
	 \end{pspicture}
	\end{center}
 \item \emph{Rotation} um den Punkt $c$: $p \mapsto M(p -c) + c = Mp + (c - Mc), \qquad c \mapsto c$
 \item \emph{gleichförmige Skalierung}:
	\begin{align*}
	&&p &\mapsto \lambda \cdot p = \begin{pmatrix}
	                               \lambda & 0 \\
	                               0 & \lambda
	                              \end{pmatrix} \cdot p, \qquad \lambda \neq 0\\
	&\lambda = 1& p &\mapsto -p = \begin{pmatrix}
	                                     -1 & 0 \\
	                                     0 & -1
	                                    \end{pmatrix} \cdot p = \text{Spiegelung am Ursprung $=$ Rotation um $180^\circ$}
	\end{align*}
 \item \emph{Ungleichförmige Skalierung}:
	\[M = \begin{pmatrix}
	       \lambda_1 & 0 \\
	       0 & \lambda_2
	      \end{pmatrix} \qquad p \mapsto M \cdot p\]
	\[\vtwo{x}{y} = \vtwo{\lambda_1 x}{\lambda_2 y}\]
	\[M = \begin{pmatrix}
	       -1 & 0 \\
	       0 & 1
	      \end{pmatrix} \text{resultiert in der Spiegelung an der $x$-Achse}\]
	\[M = \begin{pmatrix}
	       1 & 0 \\
	       0 & -1
	      \end{pmatrix} \text{resultiert in der Spiegelung an der $y$-Achse}\]
 \item \emph{Scherung}
	\[M = \overset{\text{Scherung auf der $x$-Achse}}{\begin{pmatrix}
		1 &  \lambda \\
		0 & 1
	      \end{pmatrix}} \left(\text{oder } \overset{\text{Scherung auf der $y$-Achse}}{\begin{pmatrix}
		1 & 0 \\
		\lambda & 1 \\
	      \end{pmatrix}}
	      \right)\]
	      \[\vtwo{x}{y} \mapsto \begin{pmatrix}
		1 &  \lambda \\
		0 & 1
	      \end{pmatrix} \vtwo{x}{y} = \vtwo{x+ \lambda y}{y}\]
	 \begin{center}
	 \begin{pspicture}[unit=0.5cm](0,0)(4,2.1)
	  \rput[tl](0.1,4){\color{red}$\lambda = 0{,}5$}
	  \psaxes[labels=none,ticks=none](0,0)(0,0)(8,4.2)
	  \psline[linecolor=red](4,1)(4.5,1)
	  \psline[linecolor=red](4,2)(5,2)
	  \psline[linecolor=red](4,3)(5.5,3)
	  \psline[linecolor=red](4,4)(6,4)
	  \psdot(4,1)\psdot[dotstyle=o](4.5,1)
	  \psdot(4,2)\psdot[dotstyle=o](5,2)
	  \psdot(4,3)\psdot[dotstyle=o](5.5,3)
	  \psdot(4,4)\psdot[dotstyle=o](6,4)
	 \end{pspicture}
	\end{center}
\end{itemize}
Flächeninhalt:
\begin{itemize}
 \item Translationen, Rotationen, Scherungen und Spiegelungen ändern den Flächeninhalt \underline{nicht}.
 \item Skalierung ändert den Flächeninhalt um den Faktor $\lambda_1 \cdot \lambda_2$
\end{itemize}

\Defi Eine Verknüpfung mehrerer dieser Transformationen bildet eine \textbf{affine Transformation}.
	Allgemein ist diese:
	\[ p \mapsto M \cdot p = b, \qquad M \in \mathbb{R}^{2 \times 2}, b \in \mathbb{R}^2, \det M \neq 0 \]
	Der Flächeninhalt ändert sich um den Faktor $\det M$

\Defi Die Verknüpfung von Translation, Rotation und Spiegelung heißt \textbf{starre Bewegung} oder \textbf{Isometrie}.
	Allgemein ist diese:
	\[ p \mapsto Mp + t \text{ mit \textbf{orthogonaler Matrix} $M$ (d. h. $\det M = \pm 1$)}\]
	die Isometrien zerfallen:
	\begin{itemize}
	 \item \textbf{orientierungserhaltende} ($\det M = 1$) und
	 \item \textbf{orientierungsumkehrende} ($\det M = -1$) Isometrien
	\end{itemize}

\section{Homogene Koordinaten}
\Defi \textbf{Homogene Koordinaten}: Statt $p = \vtwo{x}{y}$ verwendet man eine dritte Koordinate
	$p = \vthree{x}{y}{1}$

\paragraph*{Konvention} Die Koordinaten $\vthree{x}{y}{z}$ und
	$\vthree{\lambda x}{\lambda y}{\lambda z}$ stellen denselben Punkt dar ($\lambda \neq 0$)

Der Punkt $\vthree{x}{y}{z}$ mit $z \neq 0$ hat die kartesischen Koordinaten $\vtwo{\frac{x}{z}}{\frac{y}{z}}$

\subsection{Allgemeine affine Transformation in homogenen Koordinaten}
\[\vthree{x}{y}{z} \mapsto \underbrace{\begin{pmatrix}
				m_{11} & m_{12} & b_1\\
				m_{21} & m_{22} & b_2\\
				0 & 0 & 1
                           \end{pmatrix}}_{M'} \cdot \vthree{x}{y}{z}\]
\[\vthree{x}{y}{1} \mapsto \vthree{m_{11}x + m_{12}y + b_1}{m_{21}x + m_{22}y + b_2}{1}\]

Die Matrizen $M'$ und $\lambda M'$ beschreiben dieselbe Transformation $(\lambda \neq 0)$

\[p \mapsto M' p \text{ mit } M' = \begin{pmatrix}
                                    m_{11} & m_{12} & m_{13} \\
                                    m_{21} & m_{22} & m_{23} \\
                                    0 & 0 & m_{33}
                                   \end{pmatrix} \text{ und $\det M' \neq 0$}
\]
\[\det M' \neq 0 \Leftrightarrow m_{33} \neq 0 \land \begin{vmatrix}
                                                    m_{11} & m_{12} \\
                                                    m_{21} & m_{22}
                                                   \end{vmatrix} \neq 0
\]
$\Rightarrow$ o. B. d. A. kann man auch $m_{33} = 1$ annehmen (Dann kann man die dritte Zeile auch weglassen).

\section{Die projektive Ebene}
\Defi Die (reelle) \textbf{projektive Ebene} $P^2$ besteht aus den Äquivalenzklassen von Punkten
	$\vthree{x}{y}{z} \neq \vthree{0}{0}{0}$, wobei $\vthree{x}{y}{z}$ und $\vthree{\lambda x}{\lambda y}{\lambda z}$
	denselben Punkt darstellen ($\lambda \neq 0$)

\subsection{Geraden in der projektiven Ebene}
Gerade in $\mathbb{R}^2$ (karthesische Koordinaten):
 \[y = ax + b \text{(Gerade darf nicht senkrecht sein)}\]
 \[ax + by = -c\]

\[\Updownarrow\]
Gerade in Homogenen Koordinaten
\[\vtwo{x}{y} \longrightarrow \vthree{x}{y}{1}\]
\[ax + by + c = 0 \Leftrightarrow \vthree{a}{b}{c} \cdot \vthree{x}{y}{1} = 0\]
Allgemeine Gleichung einer Geraden in $P^2$
\[\vthree{a}{b}{c} \cdot \vthree{x}{y}{z} = 0 \Leftrightarrow ax + by + cz = 0 \qquad \vthree{a}{b}{c} \neq \vthree{0}{0}{0}\]
Wenn $\vthree{x}{y}{z}$ die Gleichung erfüllt, dann erfüllt auch $\vthree{\lambda x}{\lambda y}{\lambda z}$ die Gleichung.
$\vthree{a}{b}{c}$ und $\vthree{\lambda a}{\lambda b}{\lambda c}$ stellen dieselbe Gerade dar.

\begin{description}
 \item[projektive Punkte] $\vthree{x}{y}{z} \neq \vthree{0}{0}{0}$ Skalierung egal.
 \item[projektive Gerade] $\vthree{a}{b}{c} \neq \vthree{0}{0}{0}$ Skalierung egal
\end{description}
\Satz Punkt $\vthree{x}{y}{z}$ liegt auf der Geraden $\vthree{a}{b}{c}$:
\[\vthree{a}{b}{c} \cdot \vthree{x}{y}{z} = 0\]

\Satz	Zwei verschiedene Geraden schneiden sich in genau einem Punkt.
\Bew	Gerade $\forall \lambda: \vthree{a_1}{b_1}{c_1}, \vthree{a_2}{b_2}{c_2} \neq \lambda \vthree{a_1}{b_1}{c_1}$.
Schnittpunkt:
\begin{align*}
 a_1 x + b_1 y + c_1 z &= 0\\
 a_2 x + b_2 y + c_2 z &= 0
\end{align*}
Koeffizientenmatrix $A = \begin{pmatrix}
                          a_1 & b_1 & c_1 \\
                          a_2 & b_2 & c_2
                         \end{pmatrix}, \rg A = 2$\\
$\Rightarrow$ Lösungsmenge ist eindimensional
\[ L = \left\{\left.\lambda \vthree{x_0}{y_0}{z_0} \right| \lambda \in \mathbb{R}\right\} \text{ist ein projektiver Punkt}\]
$\vthree{x_0}{y_0}{z_0}$ kann als $\vthree{a_1}{b_1}{c_1} \times \vthree{a_2}{b_2}{c_2} = \vthree{
		\begin{vmatrix}
		 b_1 & b_2 \\
		 c_1 & c_2
		\end{vmatrix}\\}{
		\begin{vmatrix}
		 c_1 & c_2 \\
		 a_1 & a_2
		\end{vmatrix}\\}{
		\begin{vmatrix}
		 a_1 & a_2 \\
		 b_1 & b_2
		\end{vmatrix}}
$ berechnet werden (Kreuzprodukt)

\begin{center}
	\psset{Alpha=150,Beta=20,unit=1.5cm,arrows=->}
	\begin{pspicture}(-1,0)(3,2.8)
		\rput[bl]{15}(0,0){
		\pstThreeDSquare[fillstyle=hlines,hatchcolor=gray,linecolor=gray,arrows=-](0,0,0)(1.3,0,0)(0,1.8,0)
		\pstThreeDSquare[arrows=-](0,0,0)(0.5,0,0)(0,0,0.5)
		\pstThreeDDot(0.25,0,0.25)
		\pstThreeDSquare[arrows=-](0,0,0)(0,0.5,0)(0,0,0.5)
		\pstThreeDDot(0,0.25,0.25)
		\pstThreeDLine(0,0,0)(1.5,0,0)\pstThreeDPut(1.6,0,0){$\vec u$}
		\pstThreeDLine(0,0,0)(0,2,0)\pstThreeDPut(0,2.1,0){$\vec v$}
		\pstThreeDLine(0,0,3)\pstThreeDPut(0,0,3.1){$\vec u \times \vec v$}
		}
	\end{pspicture}
\end{center}


\Satz Durch zwei verschiedene Punkte gibt es genau eine Geraden

\Bew gleich wie oben: $\vthree{a}{b}{c}$ mit $\vthree{x}{y}{z}$ vertauschen.

\paragraph*{Dualitätsprinzip} Man kann in einem Satz der projektiven Geometrie der Ebene "`Punkte"' und "`Geraden"'
	vertauschen und es bleibt ein gültiger Satz.
	
\pagebreak
\subsection{Modelle der projektiven Ebene}
\begin{enumerate}
 \item \emph{Räumliches Modell der projektiven Ebene}
	$\left\{\left.\lambda \vthree{x_0}{y_0}{z_0}\right| \lambda \in \mathbb{R}\right\}$...
		Geraden durch den Ursprung im $\mathbb{R}^3$ entsprechen den projektiven Punkten.
	\begin{center}
	 \begin{pspicture}(-5,-2)(5,4)
	  \pstThreeDCoor[xMin=-4,xMax=4,yMin=-4,yMax=4]
	  \pstThreeDLine{-}(-4,2,0)(4,-2,0)
	  \pstThreeDLine{-}(-2,-4,0)(2,4,0)
	  \pstThreeDLine{-}(3,-1.5,0)(-1.5,-3,0)(-3,1.5,0)(1.5,3,0)(3,-1.5,0)
	 \end{pspicture}
	\end{center}
	\begin{center}
	 projektive Gerade $\equiv$ Ebene durch den Ursprung
	\end{center}

\item \emph{Kugelmodell der projektiven Ebene}
	entsteht durch Schnitt des räumlichen Modells mit der Einheitskugel $S^2 =
		\left\{\left.\vthree{x}{y}{z}\right| x^2 + y^2 + z^2 = 1\right\}$
	
	\begin{center}
	 \begin{pspicture}(-5,-3)(5,3)
	  \psset{arrows=-}
	  \psellipticarc[linestyle=dashed]{-}(0,0)(2,1){0}{180}
	  \pstThreeDCoor[xMin=-4,yMin=-4,zMin=-3]
	  \pstThreeDLine{-}(-4,2,0)(4,-2,0)
	  \pstThreeDLine{-}(-2,-4,0)(2,4,0)
	  
	  \pstThreeDLine{-}(4,2,0)(-4,-2,0)
	  \pstThreeDDot(1.8,0.9,0)
	  \pstThreeDDot(-1.8,-0.9,0)

	  \pstThreeDCircle[Alpha=55,Beta=10](1.153,1.153,-1.153)(-.2,.2,0)(.231,.231,.231)
	  
	  \pscircle(0,0){2}
	  \psellipticarc{-}(0,0)(2,1){180}{0}

	  \pstThreeDNode(0,-2,0){GK}
	  \rput[tl](-3,2){\rnode{GK_label}{Großkreis}}
	  \ncline{->}{GK_label}{GK}
	  \pnode(1.4,1.4){EK}
	  \rput[tl](3,3){\rnode{EK_label}{Einheitskugel}}
	  \ncline{->}{EK_label}{EK}

	  \pstThreeDNode[Alpha=55,Beta=10](1.153,1.153,-1.153){kGK}
	  \rput[tl](3,-2){\Rnode[href=-0.9]{kGK_label}{kein Großkreis}}
	  \ncline[nodesepB=5px]{->}{kGK_label}{kGK}
	 \end{pspicture}
	\end{center}
	\begin{align*}
	 \text{projektiver Punkt} &\equiv \text{Paar gegenüberliegender Punkte auf der Einheitskugel}\\
	 \text{projektive Gerade} &\equiv \text{Großkreise}
	\end{align*}
\end{enumerate}


\subsection{Projektive Punkte zu karthesische Koordinaten}
\begin{center}
	 \begin{pspicture}(-5,-2)(5,4)
	  \psset{arrows=-}
	  \psellipticarc[linestyle=dashed]{-}(0,0)(2,1){0}{180}
	  \pstThreeDCoor[xMin=-4,yMin=-4,zMin=-3]

	  \pstThreeDSquare(-2,-2,2)(6,0,0)(0,6,0)

	  \pstThreeDLine(0.2,1,-2)(-0.4,-2,4)
	  \pstThreeDLine(-3,-9,-6)(3,9,6)
	  
	  \pstThreeDDot(0,0,2)
	  \pstThreeDDot[drawCoor=true](-0.2,-1,2)
	  \pstThreeDDot[drawCoor=true](1,3,2)

	  \pstThreeDPut(-3,2,2){$\vthree{\frac{x}{z}}{\frac{y}{z}}{1}$}
	  
	  \pscircle(0,0){2}
	  \psellipticarc{-}(0,0)(2,1){180}{0}

	  \pstThreeDNode[Alpha=75](1.4,1.4,0){aq}
	  \rput[tl](3,-2){\Rnode[href=-0.9]{aq_label}{Äquator = Ferngerade}}
	  \ncline[nodesepB=5px]{->}{aq_label}{aq}
	 \end{pspicture}
\end{center}
Schnitt der Geraden $\vthree{x}{y}{z} \cdot \lambda$ im $\mathbb{R}^3$ mit Ebene $z = 1$:
$z \cdot \lambda = 1 \Rightarrow \lambda = \dfrac{1}{z}$\\
$\rightarrow \vthree{x \cdot \frac{1}{z}}{y \cdot \frac{1}{z}}{1}$

\Satz Die Punkte $\vthree{x}{y}{z}$ mit $z = 0$ haben \emph{keine} Entsprechung in der euklidischen Ebene:
Jede projektive Gerade hat als Bild in der euklidischen Ebene eine Gerade, mit einer Ausnahme: die Gerade
$\vthree{0}{0}{1}$

\Defi Die Punkte des projektiven Raumes, die keine euklidische Entsprechung haben, heißen \textbf{Fernpunkte}.
	Die Gerade $\vthree{0}{0}{1}$ \textbf{Ferngerade}.

\Satz Zwei Geraden der euklidischen Ebene sind genau dann \emph{parallel}, wenn ihr Schnittpunkt ein Fernpunkt ist.

\Satz Die Punkte, die auf der Ferngeraden liegen, sind genau die Fernpunkte

\Satz Es gibt zu jeder Schaar paralleler Geraden genau einen Fernpunkt.
\begin{center}
 \begin{pspicture}(0,0)(5,4)
	\psset{arrows=-}
	\rput[lb](0.5,1.75){\psline(0,0)(2.25,2.25)}
	\rput[lb](1,1.5){\psline(0,0)(2.25,2.25)}
	\rput[lb](1.5,1.25){\psline(0,0)(2.25,2.25)}
	\rput[lb](2,1){\psline(0,0)(2.25,2.25)}
	\rput[lb](2.5,0.75){\psline(0,0)(2.25,2.25)}
	\psbrace[nodesepB=2pt,ref=rC](0.25,1.75)(2.65,0.5){\psdot[dotsize=4pt](0,0)}
 \end{pspicture}
\end{center}

Anschaulich ist ein Fernpunkt äquivalent zu perspektivischen Sammelpunkten:
\begin{center}
 \begin{pspicture}(-3,-2)(0,0)
	\psset{arrows=-}
	\psdot(0,0)
	\rput[bl](0.1,0){Fernpunkt}
	\psline[linestyle=dotted](0,0)(-2,-2)
	\psline[linestyle=dotted](0,0)(-3,-2)
	\pspolygon(-2,-2)(-0.5,-0.5)(-0.75,-0.5)(-3,-2)
 \end{pspicture}
\end{center}

\section{Allgemeine projektive Transformationen}
$\xyz \mapsto M \cdot \xyz$ mit $M = \mathbb{R}^{3 \times 3}, \det M \neq 0$\\
(Punkte bleiben Punkte, Geraden bleiben Geraden, Inzidenz bleibt erhalten)

\Defi Affine Transformationen sind jene Transformationen, bei denen die Fernpunkte Fernpunkte bleiben.
\[ \vthree{x}{y}{z} \mapsto M \vthree{x}{y}{0} = \vthree{x'}{y'}{z'} \stackrel{!}= \vthree{x'}{y'}{0}\]
\[M = \begin{pmatrix}
       m_{11} & m_{12} & m_{13} \\
       m_{21} & m_{22} & m_{23} \\
       \cancel{m_{31}}{0} & \cancel{m_{32}}{0} & m_{33}
      \end{pmatrix}
\]
\begin{align*}
 \forall x, y: m_{31} x + m_{32} y + m_{33} \cdot 0 = 0 &\Rightarrow m_{31} = m_{32} = 0
\end{align*}

\begin{align*}
 \det M &\neq 0\\
 \det M &= \underbrace{m_{33}}_{\neq 0} \cdot \underbrace{\begin{vmatrix}m_{11}&m_{12}\\m_{21}&m_{22}\end{vmatrix}}_{0}
	&\Rightarrow \text{o. B. d. A. $m_33 = 1$}
\end{align*}

\[\vtwo{x}{y} \mapsto \overbrace{\begin{pmatrix}m_{11}&m_{12}\\m_{21}&m_{22}\end{pmatrix}
	\vtwo{x}{y}}^{\text{lineare Transformation}} + \overbrace{\vtwo{m_{13}}{m_{23}}}^{\text{+ Translation}}\]

Affine Transformation:
\begin{itemize}
 \item parallele Geraden bleiben parallel
	\begin{center}
	 \begin{pspicture}(0,-0.5)(12,3.5)
	  \psframe[fillstyle=hlines,linestyle=none](0,1)(1,2)
	  \psframe[fillstyle=hlines,linestyle=none](2,0)(3,1)
	  \psellipse[fillstyle=hlines](4,0.5)(0.5,0.5)
	  \psline{-}(0.5,1.8)(0.5,2.2)
	  \psline{-}(0,-0.2)(0,3.2)
	  \psline{-}(1,-0.2)(1,3.2)
	  \psline{-}(2,-0.2)(2,3.2)
	  \psline{-}(3,-0.2)(3,3.2)
	  \psline{-}(-0.2,0)(3.2,0)
	  \psline{-}(-0.2,1)(3.2,1)
	  \psline{-}(-0.2,2)(3.2,2)
	  \psline{-}(-0.2,3)(3.2,3)

	  \psline[linewidth=2px]{-}(1,3)(2,3)
	  \psline[linewidth=2px]{-}(0,0)(1,0)
	  
	  \psline[linewidth=3px](5,1.5)(7,1.5)

	  \pspolygon[fillstyle=hlines,linestyle=none,hatchangle=71.57](7.5,0.25)(7.5,1.25)(8.5,1.75)(8.5,0.75)
	  \pspolygon[fillstyle=hlines,linestyle=none,hatchangle=71.57](9.5,0.25)(9.5,1.25)(10.5,1.75)(10.5,0.75)
	  \rput{26.57}(11.5,1.75){\psellipse[fillstyle=hlines](0,0)(0.559,0.5)}
	  \psline{-}(8,1.3)(8,1.7)
	  \psline{-}(7.5,-0.95)(7.5,2.45)
	  \psline{-}(8.5,-0.45)(8.5,2.95)
	  \psline{-}(9.5,0.05)(9.5,3.45)
	  \psline{-}(10.5,0.55)(10.5,3.95)
	  \psline{-}(7.3,-0.85)(10.7,0.85)
	  \psline{-}(7.3,0.15)(10.7,1.85)
	  \psline{-}(7.3,1.15)(10.7,2.85)
	  \psline{-}(7.3,2.15)(10.7,3.85)

	  \psline[linewidth=2px]{-}(8.5,2.75)(9.5,3.25)
	  \psline[linewidth=2px]{-}(7.5,-0.75)(8.5,-0.25)
	 \end{pspicture}
	\end{center}
\psset{arrows=-}
 \item erhalten das Teilverhältnis auf parallelen Geraden
	\begin{center}
	 \begin{pspicture}(0,-0.5)(6,0.3)
	 \psline(0,0)(6,0)
	 \psline(1,-0.2)(1,0.2)\rput[t](1,-0.2){$A$}
	 \psline(3.2,-0.2)(3.2,0.2)\rput[t](3.2,-0.2){$B$}
	 \psline(5.6,-0.2)(5.6,0.2)\rput[t](5.6,-0.2){$C$}
	 \end{pspicture}
	\end{center}
	\[\frac{\overrightarrow{AB}}{\overrightarrow{AC}}\]
\end{itemize}
Starre Bewegungen (Isometrien, euklidische Transformationen):

$M = \begin{pmatrix}m_{11}&m_{12}\\m_{21}&m_{22}\end{pmatrix}$ ist orthogonal $M^T = M^{-1}$ erhalten Längen, Winkel und
	Flächen

\psset{arrows=-}
\paragraph*{Doppelverhältnis}
\[\boxed{\dfrac{\dfrac{\overrightarrow{AC}}{\overrightarrow{BC}}}{\dfrac{\overrightarrow{AD}}{\overrightarrow{BD}}}}
	= \text{Doppelverhältnis}\]

\paragraph*{Bemerkung} projektive Transformationen erhalten das sogenannte Doppelverhältnis
\begin{center}
 \begin{pspicture}(0,-0.5)(12,3.5)
	\pspolygon(0,0)(4,0)(4,3)(0,3)
	\psline(0,1)(4,1)\psline(0,2)(4,2)
	\psline(1,0)(1,3)\psline(2,0)(2,3)\psline(3,0)(3,3)\psline(4,0)(4,3)

	\psline(-0.5,-0.5)(3.5,3.5)

	\psdot(4,0)\uput{3pt}[r]{0}(4,0){$A$}
	\psdot(4,2)\uput{3pt}[r]{0}(4,2){$B$}
	\psdot(4,1)\uput{3pt}[r]{0}(4,1){$C$}
	\psdot(4,3)\uput{3pt}[r]{0}(4,3){$D$}

	\rput[bl]{-50}(7.5,0){
	\pstilt{100}{
	\rput[bl]{50}(0,0){
	\pstilt{60}{
	\pspolygon(0,0)(4,0.5)(4,2.5)(0,3)
	\psline(0,1)(4,1.167)\psline(0,2)(4,1.833)
	\psline(1,0.125)(1,2.875)\psline(2,0.25)(2,2.75)\psline(3,0.375)(3,2.625)\psline(4,0.5)(4,2.5)

	\psline(-0.5,-0.5)(3.5,3.0625)

	\psdot(4,0.5)\uput{3pt}[r]{0}(4,0.5){$A$}
	\psdot(4,1.833)\uput{3pt}[r]{0}(4,1.833){$B$}
	\psdot(4,1.167)\uput{3pt}[r]{0}(4,1.167){$C$}
	\psdot(4,2.5)\uput{3pt}[r]{0}(4,2.5){$D$}
	}}}}
 \end{pspicture}
\end{center}

\paragraph*{Ausblick} projektiver Raum; wird beschrieben durch homogene Koordinaten $\vfour{x}{y}{z}{u}
	\neq \vfour{0}{0}{0}{0}$. Karthesische Koordinaten $\vthree{x}{y}{z}$ entsprechen homogenen	
	Koordinaten $\vfour{x}{y}{z}{1}$ oder $\vfour{\lambda x}{\lambda y}{\lambda z}{\lambda}$ ($\lambda \neq 0$, bel.).

\paragraph*{Bemerkung 1} Transformation $x \mapsto Mx$ kann man auf zwei Arten interpretieren:
\begin{enumerate}
 \renewcommand{\labelenumi}{\alph{enumi})}
 \item Wende die transformation $M$ auf Objekte an. Objekte werden bewegt, Standpunkt/Koordinatensystem bleibt fest.
 \item Drücke die unveränderte Lage eine Objektes in einem neuen Koordinatensystem aus.
\end{enumerate}
\begin{center}
\vspace{1em}
\begin{psmatrix}
 \begin{pspicture}(-2,-1.5)(3,3)
  \psgrid
  \psaxes[labels=none,ticks=none]{->}(0,0)(0,0)(3,3)
  \pspolygon[fillstyle=vlines](0,0)(1,0)(1,1)(0.5,1.5)(0,1)
 \end{pspicture}&
 $x \mapsto M x$&
 \begin{pspicture}(-2,-1.5)(3,3)
  \psgrid
  \psaxes[labels=none,ticks=none]{->}(0,0)(0,0)(3,3)
  \rput[bl]{45}(2,1){
  \pspolygon[fillstyle=vlines](0,0)(1,0)(1,1)(0.5,1.5)(0,1)}
 \end{pspicture}\\&
 $x \mapsto M x$&
 \begin{pspicture}(-2,-1.5)(3,3)
  \psgrid
  \rput[bl]{-45}(-2.1,0.7){
  \psaxes[labels=none,ticks=none]{->}(0,0)(0,0)(3,3)
  \rput[bl]{45}(2,1){
  \pspolygon[fillstyle=vlines](0,0)(1,0)(1,1)(0.5,1.5)(0,1)}
  }
 \end{pspicture}
 \end{psmatrix}
 \vspace{1em}
\end{center}
Rechnerisch macht dies keinen Unterschied.

\paragraph*{Bemerkung 2} geometrische Transformationen können verknüpft; Reihenfolge ist wichtig!
\begin{align*}
 y &= M_1 x	& z &= M_2 y
		& z &= \underbrace{M_2 M_1}_{\text{Matrizenmultiplikation}} x
\end{align*}
Inverse Transformation wird dur die inverse Matrix ausgedrückt:
\[ x = M_1^{-1} y\]

\paragraph*{Bemerkung 3} \emph{Bei uns} stehen Koordinaten in \emph{Spaltenvektoren}
		$\vthree{x}{y}{z} \qquad \vfour{x}{y}{z}{w}$\\
		$\Rightarrow$ Transformation $\equiv$ Multiplikation mit einer Matrix \emph{von links}
		\[M x = y\]
Alternative: Zeilenvektoren\\
		$\Rightarrow$ Transformation $\equiv$ Multiplikation mit einer \emph{von rechts} mit der
		\emph{transponierten Matriz}
		\[y^t = x^t M^t = (M x)^t\]
Diese Schreibweise ist an sich intuitiver (da die Rechnung in der Reihenfolge der Anwendung aufgeschrieben wird),
aber mathematisch unüblich:
	\[M_2 M_1 x = z \Longleftrightarrow x^t M_1^t M_2^t = z^t \]


\section{Transformation im dreidimensionalen Raum}
\subsection{Affine Transformation im dreidimensionalen Raum}
\begin{itemize}
 \item allgemeine affine Transformationen:
	\[
		\begin{pmatrix}
		 m_{11} & m_{12} & m_{13} & m_{14} \\
		 m_{21} & m_{22} & m_{23} & m_{24} \\
		 m_{31} & m_{32} & m_{33} & m_{34} \\
		 0 & 0 & 0 & 1
		\end{pmatrix}
		\text{mit}
		\begin{vmatrix}
		 m_{11} & m_{12} & m_{13} \\
		 m_{21} & m_{22} & m_{23} \\
		 m_{31} & m_{32} & m_{33} 
		\end{vmatrix} \neq 0
	\]
\item Isometrien (starre Bewegungen):
	\[
	 \begin{pmatrix}
		 m_{11} & m_{12} & m_{13} \\
		 m_{21} & m_{22} & m_{23} \\
		 m_{31} & m_{32} & m_{33}
	 \end{pmatrix} \text{ist eine orthogonale Matrix}
	\]
	\begin{enumerate}
	 \renewcommand{\labelenumi}{\alph{enumi})}
	 \item orientierungserhaltende $\det M = +1$ [Rotation um eine Achse (+ Translation)]
	 \item orientierungsumkehrende $\det M = -1$ [Spiegelung an einer Ebene, Spiegelung an einem Punkt,
				Drehspiegelung ...]
	\end{enumerate}
\end{itemize}
\subsubsection{Beispiele}
\begin{itemize}
 \item Drehung um die $z$-Achse:
	\[M = \begin{pmatrix}
		 \cos \varphi & -\sin \varphi & 0 & 0 \\
		 \sin \varphi & \cos \varphi & 0 & 0 \\
		 0 & 0 & 1 & 0 \\
		 0 & 0 & 0 & 1
		\end{pmatrix}\]
	\begin{center}
	 \begin{pspicture}(2,-2)(2,4)
	  \pstThreeDCoor[linecolor=black]
	  \psellipticarc{->}(0,2)(0.5,.25){12}{8}
	 \end{pspicture}

	\end{center}

 \item Spiegelung an der $xy$-Ebene:
	\[M = \begin{pmatrix}
		 1 & 0 & 0 & 0 \\
		 0 & 1 & 0 & 0 \\
		 0 & 0 & -1 & 0 \\
		 0 & 0 & 0 & 1
		\end{pmatrix}\]
 \item Spiegelung am Nullpunkt:
	\[M = \begin{pmatrix}
		 -1 & 0 & 0 & 0 \\
		 0 & -1 & 0 & 0 \\
		 0 & 0 & -1 & 0 \\
		 0 & 0 & 0 & 1
		\end{pmatrix}\]
\end{itemize}

\subsection{projektive Transformationen im dreidimensionalen Raum}
$x \mapsto Mx, \qquad M \in \mathbb{R}^{4 \times 4}, \det M \neq 0$

\section{Projektionen und Perspektive}
\begin{itemize}
 \item Sehen mit dem menschlichen Auge
	\begin{center}
	\begin{pspicture}(0,0)(12,3)
	 \rput[b](1,0){\includegraphics[height=3cm]{Broccoli-tree.eps}}
	 % http://commons.wikimedia.org/wiki/File:Broccoli-tree.svg
	 \rput[b]{180}(8.6,2.5){\includegraphics[height=2cm]{Broccoli-tree.eps}}

	 \pscurve[linecolor=red](8.6,2.5)(9,2.3)(10,1.2)(10.5,1)
	 \pscurve[linecolor=red](8.6,0.5)(8.9,0.7)(9.8,0.6)(10.5,0.5)
	 \pscurve[linecolor=red](9,1.5)(9.2,1.5)(9.5,1)(10.3,0.75)
	 \psline[linecolor=red](10.5,1)(12,1)
	 \psline[linecolor=red](10.5,0.5)(12,0.5)
	 \psline{->}(11,0.75)(11.8,0.75)\rput[l](11.9,0.75){Gehirn}
	 
	 \pscircle(7.5,1.5){1.5}
	 \psarc(6,1.5){0.4}{-80}{80}
	 \psarc(6,1.5){0.2}{-85}{85}
	 \psarc(6,0.5){1.5}{41}{87}
	 \psarc(6,2.5){1.5}{-87}{-41}

	 \psline[linecolor=gray,linewidth=0.75pt](1,0)(6,1.3)(8.6,2.5)
	 \psline[linecolor=gray,linewidth=0.75pt](1,0)(6,1.7)(8.6,2.5)
	 \psline[linecolor=gray,linewidth=0.75pt](1,3)(6,1.3)(8.6,0.5)
	 \psline[linecolor=gray,linewidth=0.75pt](1,3)(6,1.7)(8.6,0.5)
	 \pnode(6,1.5){L}
	 \rput(5,0.5){\rnode{L_l}{Linse}}
	 \ncline{->}{L_l}{L}

	 \pnode(8.6,1.5){N}
	 \rput(10,2.7){\rnode{N_l}{Netzhaut}}
	 \ncline[linecolor=gray]{->}{N_l}{N}
	 
	 \rput(10,0.25){Nerven}
	\end{pspicture}
	\end{center}
 \item Lochkamera
	\begin{center}
	\begin{pspicture}(0,0)(12,3)
	 \rput[b](1,0){\includegraphics[height=3cm]{Broccoli-tree.eps}}
	 \rput[b]{180}(9,2.5){\includegraphics[height=2cm]{Broccoli-tree.eps}}

	 \psline{*-*}(6,1.6)(6,3)(9,3)(9,0)(6,0)(6,1.4)

	 \psline[linecolor=gray,linewidth=0.75pt](1,0)(6,1.4)(9,2.5)
	 \psline[linecolor=gray,linewidth=0.75pt](1,0)(6,1.6)(9,2.5)
	 \psline[linecolor=gray,linewidth=0.75pt](1,3)(6,1.4)(9,0.5)
	 \psline[linecolor=gray,linewidth=0.75pt](1,3)(6,1.6)(9,0.5)
	\end{pspicture}
	\end{center}
 \item Projektionen

	\begin{center}
	\begin{pspicture}(0,-1)(10,4)
	 \rput[b](1,0){\includegraphics[height=3cm]{Broccoli-tree.eps}}

	 \psline[linestyle=dashed,linewidth=0.75pt](1,0)(9,1.5)
	 \psline[linestyle=dashed,linewidth=0.75pt](1,3)(9,1.5)
	\rput{-90}(5.55,1.05){
	\pstilt{-45}{
	\rput{90}(0,0){
		\psframe(0,0)(3,3)
		\rput(1.5,1.5){\includegraphics[height=1.7cm,width=1.3cm]{Broccoli-tree.eps}}
		\psline(0,1.5)(3,1.5)
	}
	}
	}

	\psline{*-}(0,1.5)(9,1.5)
	\psline(4.5,2.35)(9,1.5)
	\psline(4.5,0.65)(9,1.5)
	\psdot(4.5,1.5)
	\uput{5pt}[-45]{0}(4.5,1.5){$H$}

	\rput[l](5.7,2.5){Horizont (s. u.)}

	\rput[l](9,1.5){
	\psset{unit=0.5cm}
	\psarc(1.5,0){1.5}{160}{-160}
	\psarc(0,0){0.4}{-80}{80}
	\psarc(0,0){0.2}{-85}{85}
	\psarc(0,-1){1.5}{41}{87}
	\psarc(0,1){1.5}{-87}{-41}
	}

	\uput{10pt}[90]{0}(9,1.5){Augpunkt}
	\end{pspicture}
	$H$ = Hauptpunkt (s. u.)
	\end{center}
\end{itemize}

\paragraph*{Projektionen} Vebinde gegebene Punkte mit einem festen \textit{Projektionszentrum} (kann auch ein Fernpunkt sein)
	und schneide die Strahlen mit einer Ebene (= \textit{Projektionsebene})

\begin{enumerate}
 \item Projektionszentrum im Endlichen: Zentralprojektion
 \item Projektionszentrum ein Fernpunkt: Parallelprojektion\\
	(Parallele Geraden bleiben parallel)\pagebreak
	\begin{enumerate}
	 \item Wenn die Projektion senkrecht auf den Projektionsstrahlen steht, spricht man von
		\emph{orthographischer Projektion}
		\begin{center}
		 \begin{pspicture}(0,0)(2,2)
		  \psline{->}(0,0)(0,2)
		  \psline{->}(0,0)(2,0)
		  \psframe(0,0)(1,1)
		 \end{pspicture}
		\end{center}
	 \item andernfalls von \emph{schiefer Projektion}
		\begin{center}
		 \begin{pspicture}(-1,-1)(2,2)
		  \psline{->}(0,0)(0,2)
		  \psline{->}(0,0)(2,0)
		  \psline{->}(0,0)(-1,-1)
		  \psframe(0,0)(1,1)
		  \psframe(-.5,-.5)(.5,.5)
		  \psline(-.5,-.5)(0,0)
		  \psline(.5,-.5)(1,0)
		  \psline(-.5,.5)(0,1)
		  \psline(.5,.5)(1,1)
		 \end{pspicture}
		\end{center}
	\end{enumerate}
\end{enumerate}

\paragraph*{zu 1. Zentralprojektion}
	Der \emph{Hauptpunkt} ist der Punkt der Projektionsebene, der dem Auge am nächsten liegt.
	Ein projeziertes Bild vermittelt den exakten wirklichkeitsgetreuen Eindruck genau dann, wenn man sich so
	davor stellt, das das Auge direkt vor dem Hauptpunkt $H$ liegt und den richtigen Abstand $d$ und im richtigen
	Abstand zum Bild, mit dem das Bild berechnet wurde

\begin{itemize}
 \item Parallele Geraden können in der Projektion zu schneidenden Geraden werden
 \item Das Bild des entsprechenden Fernpunktes heißt \emph{Fluchtpunkt} (vanishing point)
 \item Die Fluchtpunkte der horizontalen Gerade liegen auf dem \emph{Horizont} (die Fluchtgerade durch die alle
	horizontalen Ebenen gehen).
 \item Wenn die Projektionsgerade senkrecht ist, dann liegt der Hauptpunkt auf dem Horizont\\
	$\Rightarrow$ Senkrechte Geraden bleiben dann parallel (und senkrecht)
\end{itemize}
\begin{center}
 \begin{pspicture}(0,0)(10,4)
	\psline(0,3.5)(10,3.5)\rput[b](5,3.75){Horizont}
	\psdot(5,3.5)
	\uput{3pt}[-90]{0}(5,3.5){$H$}
	\psdot(2,3.5)
	\uput{3pt}[-90]{0}(2,3.5){$F_1$}
	\psdot(7.5,3.5)
	\uput{3pt}[-90]{0}(7.5,3.5){$F_2$}

	\psline[linestyle=dashed](2,3.5)(5,0.5)(7.5,3.5)
	\psline[linestyle=dashed](2,3.5)(5,0)(7.5,3.5)
	\psline[linestyle=dashed](4,1.5)(7.5,3.5)
	\psline[linestyle=dashed](2,3.5)(5.83333,1.5)
	\psline(4,1.5)(5,0.5)(5.83333,1.5)
	\psline(4,1.16667)(5,0)(5.83333,1.16667)
	\psline(4,1.5)(4,1.16667)
	\psline(5,0.5)(5,0)
	\psline(5.83333,1.5)(5.83333,1.16667)

	\psline(4,1.5)(4.87,2)(5.83333,1.5)
 \end{pspicture}
\end{center}

\section{Koordinaten in der Praxis}
\begin{itemize}
 \item \textbf{Objektkoordinaten}
	\begin{center}
	\begin{pspicture}(-2,-2)(4,4)
		\pstThreeDCoor
		\psellipse(0,0)(1,0.5)
		\psellipse(0,1)(1,0.5)
		\psline(-1,0)(-1,1)
		\psline(1,0)(1,1)
		\psline{|<->|}(-1.2,0)(-1.2,1)
		\psline{->}(0,1)(1,1)
		\uput{3pt}[180]{0}(-1.2,0.5){$h = 1$}
		\uput{3pt}[90]{0}(0.5,1){$r=1$}
	\end{pspicture}
	"`Standardzylinder"' $x^2 + y^2 \le 1, 0 \le z \le 1$
	\end{center}
	Durch die affinde Transformationen wird die Form des Zylinders angepasst und der Zylind an die passende Stelle
	(in einem größeren Modell / in der Umgebung) gesetzt
	\[M = \begin{pmatrix}
	       r & & & \\
		 & r & & \\
		 & & h & \\
		 &&&1
	      \end{pmatrix} ... \text{Skalierung }\rightarrow\text{ Radius $r$ Höhe $h$}\]
	\emph{Translation} (+Rotation) von mehreren Kopien. Zylinder wird Teil eines größeren Objektes mit einem
		eigenen Koordinatensysteme
	\begin{center}
	\begin{pspicture}(0,0)(16,6)
	 \rput[b](1.5,4){
		\psellipticarc[fillstyle=solid,fillcolor=white](0,0)(0.25,0.125){180}{0}
		\psline[fillstyle=solid,fillcolor=white](-0.25,0)(-0.25,2)(0.25,2)(0.25,0)
		\psellipse[fillstyle=solid,fillcolor=white](0,2)(0.25,0.125)
	 }

	 \psline{->}(1.5,3.8)(1.15,2.6)

	 \psline[linewidth=2pt]{->}(0.5,0.5)(0,0)
	 \psline[linewidth=2pt]{->}(0.5,0.5)(2,0.5)
	 \psline[linewidth=2pt]{->}(0.5,0.5)(0.5,2)
	 \psframe(0.5,0.5)(2.5,1)
	 \psline(0.5,1)(1.5,2)(3.5,2)(2.5,1)
	 \psline(2.5,0.5)(3.5,1.5)(3.5,2)

	  \rput[b](1.15,1.25){
		\psellipticarc[fillstyle=solid,fillcolor=white](0,0)(0.15,0.075){180}{0}
		\psline[fillstyle=solid,fillcolor=white](-0.15,0)(-0.15,1.2)(0.15,1.2)(0.15,0)
		\psellipse[fillstyle=solid,fillcolor=white](0,1.2)(0.15,0.075)
	 }
	 \rput[b](1.75,1.25){
		\psellipticarc[fillstyle=solid,fillcolor=white](0,0)(0.15,0.075){180}{0}
		\psline[fillstyle=solid,fillcolor=white](-0.15,0)(-0.15,1.2)(0.15,1.2)(0.15,0)
		\psellipse[fillstyle=solid,fillcolor=white](0,1.2)(0.15,0.075)
	 }
	 \rput[b](2.35,1.25){
		\psellipticarc[fillstyle=solid,fillcolor=white](0,0)(0.15,0.075){180}{0}
		\psline[fillstyle=solid,fillcolor=white](-0.15,0)(-0.15,1.2)(0.15,1.2)(0.15,0)
		\psellipse[fillstyle=solid,fillcolor=white](0,1.2)(0.15,0.075)
	 }
	 \pnode(3.6,1.75){temple_big}

	 \rput[bl](8,2){
		\psline{->}(0,0)(-2,-2)
		\psline{->}(0,0)(0,4)
		\psline{->}(0,0)(4,0)
		\rput(2,-1){Weltkoordinatensystem}
		\pscurve(-1,0.25)(0.5,0.75)(2,1.75)(3.5,0.75)(5,0.25)
		\rput(2,1.4){
			\pnode(-0.3,0.8){temple}
			\psframe[fillstyle=vlines,hatchangle=0,hatchsep=4pt](-0.3,0)(0.3,0.4)
			\psline[fillstyle=vlines,hatchangle=0,hatchsep=2pt](0.3,0.0)(0.5,0.2)(0.5,0.6)(0.3,0.4)
			\psline(-0.3,0.4)(0,0.6)(0.3,0.4)
			\psline(0,0.6)(0.2,0.8)(0.5,0.6)
			\psline(-0.3,0.4)(-0.1,0.6)(0.2,0.8)
		}

		\rput[l]{20}(4,3){
			\psline[linecolor=red]{->}(0,0)(0.5,0.5)
			\uput{3pt}[45]{-20}(0.5,0.5){$\vec u$}
			\psline[linecolor=red]{->}(0,0)(1,0)
			\uput{3pt}[90]{-20}(1,0){$\vec n$}
			\psline[linecolor=red]{->}(0,0)(0,1)
			\uput{3pt}[0]{-20}(0,1){$\vec v$}
			\psarc[unit=0.3cm](1.5,0){1.5}{160}{-160}
			\psarc[unit=0.3cm](0,0){0.4}{-80}{80}
			\psarc[unit=0.3cm](0,0){0.2}{-85}{85}
			\psarc[unit=0.3cm](0,-1){1.5}{41}{87}
			\psarc[unit=0.3cm](0,1){1.5}{-87}{-41}
		}
	 }
	 \nccurve[angleA=0,angleB=120]{->}{temple_big}{temple}
	\end{pspicture}
	\end{center}
 \item \textbf{Weltkoordinaten}\\
	Ein globales Koordinatensystem, das für alle Berechnungen als Referenz dient.
 \item \textbf{Augenkoordinaten} (Kamerakoordinaten)\\
	\begin{itemize}
	 \item Ursprung = Augpunkt
	 \item 3 orthogonale Achsen:
		\begin{description}
		 \item $\vec n$ = "`Blickrichtung"' vom Objekt zum Betrachter
		 \item $\vec u$ = "`Horizontale Richtung"' von links nach rechts
		 \item $\vec v$ = "`Senkrechte Richtung"' von unten nach oben
		\end{description}
	\end{itemize}
	Die Projektionsebeneist orthogonal zu $\vec n$. Auf der Projektionsebene wir ein rechteckiges Bild erzeugt,
	dessen Kanten an $\vec u$ und $\vec v$ ausgerichtet sind.
	\[\vfour{x_{\mathrm{Welt}}}{y_{\mathrm{Welt}}}{z_{\mathrm{Welt}}}{w_{\mathrm{Welt}}}
	 \mapsto M_{AW} \vfour{x_{\mathrm{Welt}}}{y_{\mathrm{Welt}}}{z_{\mathrm{Welt}}}{w_{\mathrm{Welt}}}
		= \vfour{x_{\mathrm{Auge}}}{y_{\mathrm{Auge}}}{z_{\mathrm{Auge}}}{w_{\mathrm{Auge}}}\]
	Weltkoordinaten $x,y,z$ bilden ein Rechtssystem. Augenkoordinaten $u, v, n$ bilden ein Rechtssystem.\\
	$\Rightarrow$ $M_{AW}$ ist Rotation+Translation
	\begin{align*}
	 M_{AW}^{-1} \vfour{0}{0}{0}{1} &= \vfour{x_{\mathrm{Auge}}}{y_{\mathrm{Auge}}}{z_{\mathrm{Auge}}}{1}\\
	 M_{AW}^{-1} \vfour{1}{0}{0}{0} &= \vfour{x_u}{y_u}{z_u}{0} = \text{Vektor $\vec u$ in Weltkoordinaten}\\
	 M_{AW}^{-1} \vfour{0}{1}{0}{0} &= \vfour{x_v}{y_v}{z_v}{0} = \text{Vektor $\vec v$ in Weltkoordinaten}\\
	 M_{AW}^{-1} \vfour{0}{0}{1}{0} &= \vfour{x_n}{y_n}{z_n}{0} = \text{Vektor $\vec n$ in Weltkoordinaten}
	\end{align*}
	\begin{align*}
	&\text{\rnode{label}{orthogonal}}\\
	M_{AW}^{-1} &= \begin{pmatrix}
			 \rnode{l_t}{
				\boxed{
				\begin{matrix}
					x_u & x_v & x_n \\
					y_u & y_v & y_n \\
					z_u & z_v & z_n
				\end{matrix}
				}
			 } &
			\begin{matrix}
				x_{\mathrm{Auge}} \\
				z_{\mathrm{Auge}} \\
				y_{\mathrm{Auge}}
			\end{matrix}\\
			\begin{matrix}
	                0 & 0 & 0
	                \end{matrix}& 1
	                \end{pmatrix}\\
	M_{AW} &= \begin{pmatrix}
	            x_u  & y_u & z_u & *\\
	            x_v  & y_v & z_v & *\\
	            x_n  & y_n & z_n & *\\
	            0    & 0   & 0   & 1
	           \end{pmatrix}\\
	M_{AW} \vfour{x_{\mathrm{Auge}}}{y_{\mathrm{Auge}}}{z_{\mathrm{Auge}}}{1} &= \vfour{0}{0}{0}{1}
	\end{align*}
        \ncline{->}{label}{l_t}
	Der Punkt $\vthree{0}{0}{1}$ in Augenkoordinaten wird auf $A+\vec n$ in Weltkoordinaten abgebildet.
	\[M^{-1}_{AW} \vfour{0}{0}{1}{1} = \begin{pmatrix}
	                                    x_{\mathrm{Auge}} + x_n\\
	                                    y_{\mathrm{Auge}} + y_n\\
	                                    z_{\mathrm{Auge}} + z_n\\
	                                    1\\
	                                   \end{pmatrix}
	\qquad
	M^{-1}_{AW} \left[\vfour{0}{0}{1}{1} - \vfour{0}{0}{0}{1}\right] = \vfour{x_n}{y_n}{z_n}{0}
	\]
	\begin{align*}
	 A &= \begin{pmatrix}
	        x_u & x_v & x_n \\
	        y_u & y_v & y_n\\
	        z_u & z_v & z_n
	       \end{pmatrix}
		\text{Spalten sind die kartesischen Weltkoordinaten von $\vec u, \vec v, \vec n$}\\
	 M_{AW}^{-1} &= \begin{pmatrix}
			A & \vrule & \begin{matrix}
				x_{\mathrm{Auge}} \\
				z_{\mathrm{Auge}} \\
				y_{\mathrm{Auge}}
			\end{matrix}\\
			\hline
			\begin{matrix}0 & 0 & 0\end{matrix} & \vrule & 1
			\end{pmatrix}\\
	\rnode{left}{M_{AW}} &= \rnode{right}{\begin{pmatrix}
			A^T & \vrule & -A^T\begin{pmatrix}
				x_{\mathrm{Auge}} \\
				z_{\mathrm{Auge}} \\
				y_{\mathrm{Auge}}
			\end{pmatrix}\\
			\hline
			\begin{matrix}0 & 0 & 0\end{matrix} & \vrule & 1
			\end{pmatrix}}
	\ncbox[boxheight=2.5em,boxdepth=2.5em,nodesep=0.2em,linearc=0.3,linecolor=red]{left}{right}
	\end{align*}
	Probe:
	\[
		\begin{pmatrix}
			A & \vrule & \begin{matrix}
				x_{\mathrm{Auge}} \\
				z_{\mathrm{Auge}} \\
				y_{\mathrm{Auge}}
			\end{matrix}\\
			\hline
			0 & \vrule & 1
		\end{pmatrix} \cdot
		\begin{pmatrix}
			A^T & \vrule & -A^T\begin{pmatrix}
				x_{\mathrm{Auge}} \\
				z_{\mathrm{Auge}} \\
				y_{\mathrm{Auge}}
			\end{pmatrix}\\
			\hline
			0 & \vrule & 1
		\end{pmatrix} =
		\begin{pmatrix}
			A \cdot A^T = I' & \vrule & 0\\
			\hline
			0 & \vrule & 1
		\end{pmatrix} = I\qquad_{\square}
	\]
	\begin{center}
	 \begin{pspicture}(-8,-1.5)(1,4)
	  \psset{Alpha=160,Beta=25}
	  \pstThreeDLine{->}(0,0,0)(1,0,0)
	  \pstThreeDLine{->}(0,0,0)(0,1,0)
	  \pstThreeDLine{->}(0,0,0)(0,0,1)
	  \pstThreeDLine(0,0,0)(-9,2.25,-2.25)
	  \pstThreeDSquare[fillstyle=vlines,hatchcolor=gray](-4,-1,-1)(0,2,0)(0,0,2)
	  \pstThreeDSquare[fillstyle=vlines,hatchcolor=gray](-8,-2,-2)(0,4,0)(0,0,4)
	  \pstThreeDPut(-3.8,2,0){$-n_{\mathrm{nah}}$}
	  \pstThreeDPut(-7.8,0,-0.7){$-n_{\mathrm{fern}}$}
	  \pstThreeDDot(-4,0,0)
	  \pstThreeDPut(-4,0,-0.3){$H$}
	  \pstThreeDDot(-8,0,0)
	  \pstThreeDLine(0,0,0)(-9,-2.25,-2.25)
	  \pstThreeDLine(0,0,0)(-9,-2.25,2.25)
	  \pstThreeDLine(0,0,0)(-9,2.25,2.25)
	  \pstThreeDLine(0,0,0)(-9,0,0)
	  \pstThreeDPut(0,0,-0.3){Augpunkt}
	  \pstThreeDPut(1.2,0,0){$\vec n$}
	  \pstThreeDPut(0,1.2,0){$\vec u$}
	  \pstThreeDPut(0,0,1.2){$\vec v$}

	  \pstThreeDDot(-4,-1,-1)
	  \pstThreeDPut(-4,-1.5,-1.5){$\vthree{u_{\mathrm{links}}}{v_{\mathrm{unten}}}{-n_{\mathrm{nah}}}$}
	  \pstThreeDDot(-4,1,1)
	  \pstThreeDPut(-4,1.5,1.5){$\vthree{u_{\mathrm{rechts}}}{v_{\mathrm{oben}}}{-n_{\mathrm{nah}}}$}
	  \pstThreeDDot(-8,-2,2)
	  \pstThreeDPut(-8,-4,4){$\vthree{u_{\mathrm{links}} \cdot \frac{n_{\mathrm{fern}}}{n_{\mathrm{nah}}}}
					     {v_{\mathrm{oben}} \cdot \frac{n_{\mathrm{fern}}}{n_{\mathrm{nah}}}}
					     {-n_{\mathrm{fern}}}$}
	 \end{pspicture}
	\end{center}
	Projektionsrechteck liegt in der Ebene $n = n_{\mathrm{nah}}$ und bedeckt dord den Bereich
	\[\left[u_{\mathrm{links}},u_{\mathrm{rechts}}\right] \times
		\left[v_{\mathrm{unten}},v_{\mathrm{oben}}\right]\]
	Der Sichtbare Bereich ist alles was hinter diesem Rechteck liegt. Zusätzlich wird alles abgeschnitten,
	was hinter der Ebene $n = n_{\mathrm{fern}}$ liegt.\\
	$\Rightarrow$ Pyramidenstumpf (view frustum)
\item	\textbf{Normalisierte Gerätekoordinaten} (normalized device coordinates, NDC)
	Der sichtbare Pyramidenstumpf wird durch projektive Transformation auf den Würfel $[-1,+1]^3$ transformatiert.
	$x, y, z$ bilden ein Linkssystem.
	\begin{center}
	 \begin{pspicture}(-2,-2)(2,2)
	  \psset{Alpha=20,xMax=-2,xMin=2,yMax=2,yMin=-2,zMax=2,zMin=-2}
	  \pstThreeDCoor
	  \pstThreeDBox(-1,-1,-1)(2,0,0)(0,2,0)(0,0,2)
	  \pstThreeDPut(2,-2,1.3){$z=+1$ entspricht $n_{\mathrm{fern}}$}
	  \pstThreeDPut(-2,2,-1.3){$z=-1$ entspricht $n_{\mathrm{nah}}$}
	 \end{pspicture}
	\end{center}
	\begin{align*}
	 \vfour{*}{ *}{-n_\mathrm{nah}}{1} &\mapsto \vfour{*}{ *}{-1}{+1} \cdot \lambda \qquad \text{(Ebene $z = -1$)}\\
	 \vfour{*}{ *}{-n_\mathrm{fer n}}{1} &\mapsto \vfour{*}{ *}{1}{1} \cdot \lambda_2\\
	\end{align*}
	Fernpunkt auf der $z$-Achse:
	\[ \vfour{0}{0}{0}{1} \mapsto \vfour{0}{0}{ *}{0}\]
	Horizontale Linien (Richtung $u$) bleiben parallel und horizontal (Richtung $x$):
	\[ \vfour{1}{0}{0}{0} \mapsto \vfour{*}{0}{0}{0}\]
	Vertikale Linien
	\[ \vfour{0}{1}{0}{0} \mapsto \vfour{0}{ *}{0}{0}\]
	Transformation
	\[ \vfour{u}{v}{n}{w} \mapsto \begin{pmatrix}
	                               * & 0 & * & 0\\
				       0 & * & * & 0\\
				       0 & 0 & * & *\\
				       0 & 0 & -1& 0
	                              \end{pmatrix}
		\vfour{u}{v}{n}{w} = \begin{pmatrix}
	                               * & 0 & * & 0\\
				       0 & * & * & 0\\
				       0 & 0 & a & b\\
				       0 & 0 & -1& 0
	                              \end{pmatrix}\vfour{u}{v}{n}{w}\]
	\begin{align*}
	\vfour{*}{ *}{-n_{\mathrm{nah}}}{1} \mapsto \vfour{*}{ *}{-1}{1} \cdot \lambda
		&= \vfour{*}{ *}{-n_{\mathrm{nah}} a+ b}{n_{\mathrm{nah}}}
			\Rightarrow -n_{\mathrm{nah}} a + b = -n_{\mathrm{nah}}\\
	\vfour{*}{ *}{-n_{\mathrm{fern}}}{1} \mapsto \vfour{*}{ *}{1}{1} \cdot \lambda
		&= \vfour{*}{ *}{-n_{\mathrm{fern}} a+ b}{n_{\mathrm{fern}}}
			\Rightarrow -n_{\mathrm{fern}} a + b = n_{\mathrm{fern}}
	\end{align*}
	\begin{align*}
	 -n_{\mathrm{nah}} a + b &= -n_{\mathrm{nah}} \\
	 -n_{\mathrm{fern}} a + b &= n_{\mathrm{fern}}\\
	 \hline
	 a(-n_{\mathrm{nah}}+n_{\mathrm{fern}}) &= -n_{\mathrm{nah}}-n_{\mathrm{fern}}\\
	 a &= -\frac{n_{\mathrm{fern}}+n_{\mathrm{nah}}}{n_{\mathrm{fern}}-n_{\mathrm{nah}}}\\
	 \Rightarrow \qquad b &= -\frac{2 \cdot n_{\mathrm{fern}}\cdot n_{\mathrm{nah}}}
		{n_{\mathrm{fern}}-n_{\mathrm{nah}}}
	\end{align*}
	\begin{align*}
	\Rightarrow M &= \begin{pmatrix}
	       \dfrac{2 n_{\mathrm{nah}}}{u_{\mathrm{rechts}} - u_{\mathrm{links}}} & 0 &
	       \dfrac{u_{\mathrm{rechts}}+ u_{\mathrm{links}}}{u_{\mathrm{rechts}}-u_{\mathrm{links}}} & 0\\
	       0 & \dfrac{2 n_{\mathrm{nah}}}{v_{\mathrm{oben}} - v_{\mathrm{unten}}} &
	       \dfrac{v_{\mathrm{oben}}+v_{\mathrm{unten}}}{v_{\mathrm{oben}}-v_{\mathrm{unten}}} & 0\\
	       0 & 0 & - \dfrac{n_{\mathrm{fern}}+n_{\mathrm{nah}}}{n_{\mathrm{fern}}-n_{\mathrm{nah}}} &
	       - \dfrac{2 n_{\mathrm{fern}} \cdot n_{\mathrm{nah}}}{n_{\mathrm{fern}}-n_{\mathrm{nah}}}\\
	       0 & 0 & -1 & 0
	      \end{pmatrix}\\
	M^{-1} &= \begin{pmatrix}
	           \dfrac{u_{\mathrm{rechts}}-u_{\mathrm{links}}}{2n_{\mathrm{nah}}} & 0 & 0 &
	           \dfrac{u_{\mathrm{rechts}}-u_{\mathrm{links}}}{2n_{\mathrm{nah}}}\\
	           0 & \dfrac{v_{\mathrm{oben}}-v_{\mathrm{unten}}}{2n_{\mathrm{nah}}} & 0 & 
	           \dfrac{v_{\mathrm{oben}}-v_{\mathrm{unten}}}{2n_{\mathrm{nah}}}\\
	           0 & 0 & 0 & -1 \\
	           0 & 0 & \frac{1}{2n_{\mathrm{fern}}}-\frac{1}{2n_{\mathrm{nah}}} &
	           \frac{1}{2n_{\mathrm{fern}}}+\frac{1}{2n_{\mathrm{nah}}}
	          \end{pmatrix}
	\end{align*}
\item	\textbf{Rasterkoordinaten} - Koordinaten auf dem Bildschirm\\
	von normalisierten Gerätekoordinaten (NDC) zu Rasterkoordinaten:\\
	\paragraph*{zur Erinnerung}  NDC Linkssystem
	\begin{center}
	 \begin{pspicture}(-2,-2)(2,2)
	  \psset{Alpha=20,xMax=-2,xMin=2,yMax=2,yMin=-2,zMax=2,zMin=-2}
	  \pstThreeDCoor
	  \pstThreeDBox(-1,-1,-1)(2,0,0)(0,2,0)(0,0,2)
	  \pstThreeDPut(0,0,1){hinten}
	  \pstThreeDPut(0,0,-1){vorne}
	  \pstThreeDPut(-5,1,0){$[-1,1]\times[-1,1]\times[-1,1]$}
	 \end{pspicture}
	\end{center}
	\begin{enumerate}
	 \item Projektion: $z$-Koordinaten weglassen. ($z$ gibt Informationen über die Tiefe, größerer $z$-Wert
		ist weiter hinten)
	 \item Skalierung des $x$-$y$-Quadrates und Runden auf $W$x$H$-Gitter\\[0.5cm]
		\begin{center}
		\begin{pspicture}(-1.5,-1.5)(1.5,1.5)
		 \psaxes{->}(0,0)(-1.5,-1.5)(1.5,1.5)
		 \psframe(-1,-1)(1,1)
		\end{pspicture}
		\hspace{1cm}
		\psset{unit=0.5cm}
		\begin{pspicture}(6,6)
		\psgrid[gridcolor=gray]
		\psframe[fillstyle=solid,fillcolor=white,linecolor=white](2.5,-0.1)(6.5,-0.5)
		\psframe[fillstyle=solid,fillcolor=white,linecolor=white](-0.1,2.5)(-0.5,6.5)
		\psline{|<->|}(0,6.5)(6,6.5)\rput*(3,6.5){$W$}
		\psline{|<->|}(6.5,0)(6.5,6)\rput*(6.5,3){$H$}
		\rput[r](-0.2,5.2){\tiny$\mathsf{H-1}$}
		\rput[tl](5.2,-0.2){\tiny$\mathsf{W-1}$}
		\psframe[fillstyle=vlines](4,3)(5,4)
		\end{pspicture}
		\end{center}
		Pixelkoordinaten: $\vtwo{\left\lfloor(x+1)\cdot\frac{W}{2}\right\rfloor}
					{\left\lfloor(y+1)\cdot\frac{H}{2}\right\rfloor}$
	\end{enumerate}
	Berechnung des Augkoordinatensystems \hspace{1cm}
	\begin{pspicture}(0,0)(2,2)
	 \psset{unit=1.5cm}
	 \rput[r]{20}(0,0){
			\psline[linecolor=red]{->}(0,0)(0.5,0.5)
			\uput{3pt}[45]{-20}(0.5,0.5){$\vec u$}
			\psline[linecolor=red]{->}(0,0)(1,0)
			\uput{3pt}[90]{-20}(1,0){$\vec n$}
			\psline[linecolor=red]{->}(0,0)(0,1)
			\uput{3pt}[0]{-20}(0,1){$\vec v$}
		}
		\psline[linecolor=red]{->}(0,0)(0,1)
		\uput{3pt}[90]{0}(0,1){$\vec z $}
	\end{pspicture}\\
	\hrulefill
	Gegeben ist der Einheitsvektor $\vec n$ (und der Augpunkt)
	\begin{align*}
	 \text{Setze } \vec u_0 &:= \vec z \times \vec n & \vec z &= \vthree{0}{0}{1} \text{senkrecht nach oben}\\
		\vec u &:= \frac{\vec u_0}{||\vec u_0||}\\
		\vec v &:= \vec n \times \vec u
	\end{align*}

\end{itemize}